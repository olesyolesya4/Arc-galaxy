<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Arc Galaxy Generator v1.1</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            min-height: 100vh;
            color: #f5f7ff;
            background-image: url("Arc.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            display: flex;
            align-items: stretch;
            justify-content: center;
        }

        .app-shell {
            background: radial-gradient(circle at top, rgba(90, 180, 255, 0.18), rgba(4, 8, 20, 0.96));
            backdrop-filter: blur(12px);
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.8);
            border-radius: 24px;
            margin: 20px;
            max-width: 1180px;
            width: 100%;
            border: 1px solid rgba(255, 255, 255, 0.08);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        header {
            padding: 16px 22px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
            background: linear-gradient(135deg, rgba(9, 14, 36, 0.9), rgba(9, 18, 48, 0.98));
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .brand-logo {
            width: 32px;
            height: 32px;
            border-radius: 999px;
            background: radial-gradient(circle at 30% 20%, #5cf0ff, #3658ff, #190a47);
            box-shadow: 0 0 18px rgba(92, 240, 255, 0.7);
        }

        .brand-text-main {
            font-size: 1rem;
            font-weight: 600;
            letter-spacing: 0.03em;
        }

        .brand-text-sub {
            font-size: 0.75rem;
            opacity: 0.75;
        }

        .badges {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.75rem;
        }

        .badge {
            border-radius: 999px;
            padding: 4px 10px;
            border: 1px solid rgba(140, 190, 255, 0.6);
            background: radial-gradient(circle at top left, rgba(92, 240, 255, 0.3), transparent);
            text-transform: uppercase;
            letter-spacing: 0.08em;
            font-size: 0.7rem;
        }

        main {
            display: grid;
            grid-template-columns: minmax(0, 1.2fr) minmax(0, 1.1fr);
            gap: 0;
        }

        @media (max-width: 900px) {
            main {
                grid-template-columns: 1fr;
            }
        }

        .panel {
            padding: 18px 22px 20px 22px;
        }

        .panel + .panel {
            border-left: 1px solid rgba(255, 255, 255, 0.05);
        }

        @media (max-width: 900px) {
            .panel + .panel {
                border-left: none;
                border-top: 1px solid rgba(255, 255, 255, 0.05);
            }
        }

        h1 {
            font-size: 1.25rem;
            margin-bottom: 6px;
        }

        .subtitle {
            font-size: 0.9rem;
            opacity: 0.78;
            margin-bottom: 16px;
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 14px;
        }

        button {
            border: none;
            padding: 9px 16px;
            border-radius: 999px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            background: rgba(9, 170, 255, 0.1);
            color: #f5f7ff;
            border: 1px solid rgba(143, 196, 255, 0.7);
            display: inline-flex;
            align-items: center;
            gap: 6px;
            transition: transform 0.12s ease, box-shadow 0.12s ease, background 0.12s ease, border-color 0.12s ease;
        }

        button span.icon {
            font-size: 1rem;
        }

        button:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.5);
            background: radial-gradient(circle at top left, rgba(92, 240, 255, 0.28), rgba(21, 45, 120, 0.9));
            border-color: rgba(203, 230, 255, 0.98);
        }

        button:active {
            transform: translateY(0);
            box-shadow: none;
        }

        button.secondary {
            background: rgba(9, 15, 40, 0.8);
            border-color: rgba(160, 194, 255, 0.6);
        }

        button.ghost {
            background: transparent;
            border-style: dashed;
            border-color: rgba(160, 194, 255, 0.4);
        }

        button[disabled] {
            opacity: 0.45;
            cursor: default;
            box-shadow: none;
            transform: none;
        }

        .card {
            border-radius: 18px;
            padding: 14px 16px 14px 16px;
            background: radial-gradient(circle at top, rgba(37, 70, 160, 0.3), rgba(3, 7, 22, 0.96));
            border: 1px solid rgba(167, 204, 255, 0.28);
            box-shadow: 0 0 22px rgba(0, 0, 0, 0.7);
            margin-bottom: 12px;
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .card-title {
            font-size: 1rem;
            font-weight: 600;
        }

        .pill {
            font-size: 0.72rem;
            padding: 3px 9px;
            border-radius: 999px;
            background: rgba(4, 240, 195, 0.12);
            border: 1px solid rgba(136, 255, 222, 0.7);
        }

        .rows {
            font-size: 0.87rem;
        }

        .row {
            display: flex;
            justify-content: space-between;
            gap: 10px;
            margin-bottom: 3px;
        }

        .label {
            opacity: 0.72;
        }

        .value {
            font-weight: 500;
            text-align: right;
        }

        .value-rare {
            color: #87f7ff;
        }

        .value-legendary {
            color: #ffde7c;
        }

        .empty {
            opacity: 0.7;
            font-style: italic;
        }

        .lore {
            margin-top: 8px;
            padding-top: 7px;
            border-top: 1px dashed rgba(195, 218, 255, 0.35);
            font-size: 0.85rem;
            line-height: 1.35;
            opacity: 0.95;
        }

        .section-title {
            font-size: 1rem;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .section-title span {
            opacity: 0.7;
            font-size: 0.8rem;
        }

        .galaxy-list {
            max-height: 320px;
            overflow-y: auto;
            padding-right: 4px;
        }

        .galaxy-card {
            border-radius: 14px;
            padding: 9px 10px 8px 10px;
            margin-bottom: 8px;
            background: linear-gradient(135deg, rgba(6, 16, 46, 0.92), rgba(11, 38, 86, 0.94));
            border: 1px solid rgba(145, 191, 255, 0.45);
            font-size: 0.82rem;
        }

        .galaxy-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 3px;
        }

        .galaxy-name {
            font-weight: 600;
        }

        .galaxy-tags {
            display: flex;
            gap: 4px;
            flex-wrap: wrap;
        }

        .galaxy-tag {
            border-radius: 999px;
            padding: 1px 8px;
            border: 1px solid rgba(132, 180, 255, 0.7);
            font-size: 0.68rem;
            opacity: 0.9;
        }

        .rarity-common {
            color: #b9c4ff;
        }

        .rarity-rare {
            color: #85f9ff;
        }

        .rarity-legendary {
            color: #ffd973;
        }

        .footer {
            border-top: 1px solid rgba(255, 255, 255, 0.06);
            padding: 10px 20px 11px 20px;
            font-size: 0.78rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(3, 7, 18, 0.96);
        }

        .footer-left {
            opacity: 0.75;
        }

        .footer-right {
            opacity: 0.7;
        }

        code {
            font-family: "JetBrains Mono", "Fira Code", monospace;
            font-size: 0.8rem;
            opacity: 0.85;
        }
    </style>
</head>
<body>
<div class="app-shell">
    <header>
        <div class="brand">
            <div class="brand-logo" aria-hidden="true"></div>
            <div>
                <div class="brand-text-main">Arc Galaxy Generator</div>
                <div class="brand-text-sub">Unofficial fan-made project ¬∑ v1.1</div>
            </div>
        </div>
        <div class="badges">
            <div class="badge">Prototype</div>
            <div class="badge">Creator Mode</div>
        </div>
    </header>

    <main>
        <!-- LEFT PANEL: Generator -->
        <section class="panel">
            <h1>World builder</h1>
            <div class="subtitle">
                Generate Arc-style planets and cities. Save your favorites into <strong>My Galaxy</strong> or
                prepare them for a future on-chain NFT mint.
            </div>

            <div class="controls">
                <button onclick="generatePlanet()">
                    <span class="icon">ü™ê</span>
                    Generate planet
                </button>
                <button onclick="generateCity()">
                    <span class="icon">üèôÔ∏è</span>
                    Generate city
                </button>
                <button onclick="generatePlanet(); generateCity();">
                    <span class="icon">‚ú®</span>
                    Generate both
                </button>
                <button class="secondary" id="savePlanetBtn" onclick="saveCurrentPlanet()" disabled>
                    <span class="icon">üíæ</span>
                    Save planet to galaxy
                </button>
                <button class="ghost" onclick="mintComingSoon()">
                    <span class="icon">üß¨</span>
                    Mint as NFT (coming soon)
                </button>
            </div>

            <!-- Planet card -->
            <div class="card" id="planetCard">
                <div class="card-header">
                    <div class="card-title">Planet</div>
                    <div id="planetRarityPill" class="pill" style="display:none;"></div>
                </div>
                <div id="planetResult" class="rows empty">
                    Click <strong>Generate planet</strong> to create a new world.
                </div>
                <div id="planetLore" class="lore" style="display:none;"></div>
            </div>

            <!-- City card -->
            <div class="card" id="cityCard">
                <div class="card-header">
                    <div class="card-title">City</div>
                </div>
                <div id="cityResult" class="rows empty">
                    Click <strong>Generate city</strong> to create a settlement on your world.
                </div>
                <div id="cityLore" class="lore" style="display:none;"></div>
            </div>
        </section>

        <!-- RIGHT PANEL: My Galaxy -->
        <section class="panel">
            <div class="section-title">
                <div>My Galaxy</div>
                <span id="galaxyCountLabel">0 saved worlds</span>
            </div>
            <div class="subtitle">
                Each saved planet is stored locally in your browser. In a future version these could be minted
                as NFTs on Arc.
            </div>

            <div class="controls" style="margin-bottom:10px;">
                <button class="ghost" onclick="clearGalaxy()">
                    <span class="icon">üßπ</span>
                    Clear galaxy
                </button>
            </div>

            <div id="galaxyList" class="galaxy-list empty">
                No worlds saved yet. Generate a planet you like and click <strong>Save planet to galaxy</strong>.
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="footer-left">
            Background: <code>Arc.png</code>. This is an unofficial fan project inspired by Arc.
        </div>
        <div class="footer-right">
            Future roadmap: AI-powered lore ¬∑ on-chain NFT minting ¬∑ multiplayer galaxy.
        </div>
    </footer>
</div>

<script>
    const PLANET_TYPES = [
        "gas giant",
        "terrestrial",
        "oceanic",
        "ice world",
        "desert world",
        "lava planet"
    ];

    const ATMOSPHERES = [
        "oxygen-rich",
        "methane-based",
        "thin",
        "dense",
        "toxic",
        "ionized",
        "no atmosphere"
    ];

    const CLIMATES = [
        "very cold",
        "temperate",
        "hot",
        "superheated",
        "tidally locked",
        "highly unstable"
    ];

    const BIOMES = [
        "forests",
        "jungles",
        "grasslands",
        "deserts",
        "glaciers",
        "oceans",
        "rocky badlands",
        "swamps",
        "crystal plains"
    ];

    const CIV_LEVELS = [
        "no life",
        "primitive microbial life",
        "emerging intelligent life",
        "spacefaring civilization",
        "post-singularity civilization"
    ];

    const CITY_SIZES = [
        "village",
        "small city",
        "medium city",
        "megacity"
    ];

    const CITY_SPECIALTIES = [
        "trade",
        "mining",
        "magic",
        "military base",
        "harbor",
        "science",
        "farming",
        "energy production"
    ];

    const GOV_TYPES = [
        "monarchy",
        "republic",
        "technocracy",
        "theocracy",
        "anarchy",
        "corporatocracy",
        "city-state"
    ];

    const PROBLEMS = [
        "crime",
        "corruption",
        "epidemic",
        "riots",
        "nearby monsters",
        "economic crisis",
        "environmental disaster",
        "AI uprisings"
    ];

    const FEATURES = [
        "massive walls",
        "floating platforms",
        "underground tunnels",
        "canal network",
        "airship port",
        "crystal towers",
        "orbital elevator",
        "neon districts"
    ];

    let currentPlanet = null;
    let galaxy = [];

    function randomItem(list) {
        return list[Math.floor(Math.random() * list.length)];
    }

    function getRandomInt(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    function getRandomFloat(min, max, decimals) {
        const value = Math.random() * (max - min) + min;
        const factor = Math.pow(10, decimals);
        return Math.round(value * factor) / factor;
    }

    function generatePlanetName() {
        const prefixes = ["Ze", "Ka", "Ar", "No", "Te", "Lu", "Va", "Xi", "Pro", "Al", "Cy", "Or", "Ny"];
        const suffixes = ["ron", "tar", "lia", "mos", "dra", "phos", "mir", "tis", "var", "lun", "dora", "thys"];
        const number = getRandomInt(1, 999);
        return randomItem(prefixes) + randomItem(suffixes) + "-" + number;
    }

    function generateCityName() {
        const prefixes = ["Ar", "Bre", "Cal", "Dor", "El", "Far", "Gra", "Il", "Mor", "Nor", "Syn", "Lyra"];
        const middles = ["an", "en", "or", "in", "ul", "ar", "el", "ir", "um", "on", "is", "yn"];
        const suffixes = ["grad", "burg", "polis", "mere", "hold", "ford", "gate", "haven", "spire", "reach"];
        return randomItem(prefixes) + randomItem(middles) + randomItem(suffixes);
    }

    function computeRarity(planet) {
        let score = 0;
        if (planet.type === "lava planet" || planet.type === "oceanic") score += 2;
        if (planet.type === "gas giant") score += 1;
        if (planet.civilizationLevel === "spacefaring civilization") score += 3;
        if (planet.civilizationLevel === "post-singularity civilization") score += 5;
        if (planet.gravityG < 0.4 || planet.gravityG > 2.2) score += 2;
        if (planet.atmosphere === "ionized" || planet.atmosphere === "no atmosphere") score += 2;
        if (planet.atmosphere === "toxic") score += 1;
        if (planet.mainBiome === "crystal plains") score += 3;
        if (planet.moons === 0) score += 1;
        if (planet.moons >= 5) score += 2;
        if (planet.radiusKm < 3000 || planet.radiusKm > 60000) score += 2;

        let label = "Common";
        let cssClass = "rarity-common";

        if (score >= 7 && score < 12) {
            label = "Rare";
            cssClass = "rarity-rare";
        } else if (score >= 12) {
            label = "Legendary";
            cssClass = "rarity-legendary";
        }

        return { score, label, cssClass };
    }

    function generatePlanetLore(planet, rarityLabel) {
        const introTemplates = [
            `${planet.name} is a ${planet.type} with a ${planet.atmosphere} atmosphere and predominantly ${planet.mainBiome}.`,
            `Orbiting a distant star, ${planet.name} combines ${planet.mainBiome} with a ${planet.climate} climate.`,
            `${planet.name} stands out as a ${planet.type} shaped by ${planet.climate} conditions and ${planet.mainBiome}.`
        ];

        const civTemplates = [
            `The world currently hosts ${planet.civilizationLevel}, leaving faint traces visible from orbit.`,
            `At the surface, ${planet.civilizationLevel} has reshaped parts of the landscape.`,
            `Hidden beneath clouds and storms, ${planet.civilizationLevel} slowly expands across the planet.`
        ];

        const rarityTemplates = {
            "Common": [
                `Explorers consider it a steady but unremarkable candidate for future missions.`,
                `It is a solid waypoint world, useful but not yet the stuff of legends.`
            ],
            "Rare": [
                `Because of its unusual parameters, many factions quietly compete for access to this world.`,
                `Rumors suggest that whoever controls this planet gains a strategic advantage in nearby systems.`
            ],
            "Legendary": [
                `Stories travel across the sector about the impossible phenomena recorded here.`,
                `Entire fleets have vanished chasing secrets supposedly buried beneath its surface.`
            ]
        };

        const intro = randomItem(introTemplates);
        const civ = randomItem(civTemplates);
        const rarityLine = randomItem(rarityTemplates[rarityLabel]);

        return `${intro} ${civ} ${rarityLine}`;
    }

    function generatePlanet() {
        const name = generatePlanetName();
        const type = randomItem(PLANET_TYPES);
        const atmosphere = randomItem(ATMOSPHERES);
        const climate = randomItem(CLIMATES);
        const biome = randomItem(BIOMES);
        const civLevel = randomItem(CIV_LEVELS);
        const radiusKm = getRandomInt(2000, 80000);
        const gravityG = getRandomFloat(0.2, 3.0, 2);
        const moons = getRandomInt(0, 15);

        const planet = {
            name: name,
            type: type,
            atmosphere: atmosphere,
            climate: climate,
            mainBiome: biome,
            civilizationLevel: civLevel,
            radiusKm: radiusKm,
            gravityG: gravityG,
            moons: moons
        };

        const rarity = computeRarity(planet);
        planet.rarityScore = rarity.score;
        planet.rarityLabel = rarity.label;

        currentPlanet = planet;
        document.getElementById("savePlanetBtn").disabled = false;

        const planetResult = document.getElementById("planetResult");
        const planetLore = document.getElementById("planetLore");
        const rarityPill = document.getElementById("planetRarityPill");

        planetResult.classList.remove("empty");
        planetResult.innerHTML = `
            <div class="row"><div class="label">Name</div><div class="value">${planet.name}</div></div>
            <div class="row"><div class="label">Type</div><div class="value">${planet.type}</div></div>
            <div class="row"><div class="label">Atmosphere</div><div class="value">${planet.atmosphere}</div></div>
            <div class="row"><div class="label">Climate</div><div class="value">${planet.climate}</div></div>
            <div class="row"><div class="label">Main biome</div><div class="value">${planet.mainBiome}</div></div>
            <div class="row"><div class="label">Civilization level</div><div class="value">${planet.civilizationLevel}</div></div>
            <div class="row"><div class="label">Radius</div><div class="value">${planet.radiusKm.toLocaleString()} km</div></div>
            <div class="row"><div class="label">Gravity</div><div class="value">${planet.gravityG} g</div></div>
            <div class="row"><div class="label">Number of moons</div><div class="value">${planet.moons}</div></div>
            <div class="row"><div class="label">Rarity score</div><div class="value">${planet.rarityScore}</div></div>
        `;

        rarityPill.style.display = "inline-block";
        rarityPill.textContent = planet.rarityLabel;
        rarityPill.className = "pill " + (rarity.cssClass || "");

        const loreText = generatePlanetLore(planet, planet.rarityLabel);
        planetLore.style.display = "block";
        planetLore.textContent = loreText;
    }

    function estimatePopulation(size) {
        switch (size) {
            case "village":
                return getRandomInt(200, 2000);
            case "small city":
                return getRandomInt(5000, 50000);
            case "medium city":
                return getRandomInt(60000, 400000);
            case "megacity":
                return getRandomInt(500000, 20000000);
            default:
                return getRandomInt(1000, 100000);
        }
    }

    function generateCityLore(city) {
        const hooks = [
            `Locals say the city never truly sleeps; its skyline glows even during planetary eclipses.`,
            `Smugglers and diplomats cross paths in shadowy side streets, each pretending not to notice the other.`,
            `All major factions maintain a quiet presence here, each watching the others through layers of proxies.`,
            `Every decade, a festival floods the streets with travelers from distant systems.`
        ];

        const focus = [
            `Its ${city.specialty} focus shapes daily life and determines who truly holds power.`,
            `The current government, a ${city.government}, is barely holding together under mounting tension.`,
            `The city‚Äôs main problem, ${city.problem}, defines much of its politics and underworld.`,
            `Despite facing ${city.problem}, the population keeps growing, drawn by opportunity and myth.`
        ];

        const featureLine = `Visitors immediately notice ${city.feature1.toLowerCase()} and ${city.feature2.toLowerCase()}, which dominate the skyline.`;

        return `${randomItem(hooks)} ${randomItem(focus)} ${featureLine}`;
    }

    function generateCity() {
        const name = generateCityName();
        const size = randomItem(CITY_SIZES);
        const specialty = randomItem(CITY_SPECIALTIES);
        const government = randomItem(GOV_TYPES);
        const problem = randomItem(PROBLEMS);
        const feature1 = randomItem(FEATURES);
        let feature2 = randomItem(FEATURES);

        let safety = 0;
        while (feature2 === feature1 && safety < 10) {
            feature2 = randomItem(FEATURES);
            safety++;
        }

        const population = estimatePopulation(size);

        const city = {
            name,
            size,
            specialty,
            government,
            problem,
            feature1,
            feature2,
            population
        };

        const cityResult = document.getElementById("cityResult");
        const cityLore = document.getElementById("cityLore");

        cityResult.classList.remove("empty");
        cityResult.innerHTML = `
            <div class="row"><div class="label">Name</div><div class="value">${city.name}</div></div>
            <div class="row"><div class="label">Size</div><div class="value">${city.size}</div></div>
            <div class="row"><div class="label">Estimated population</div><div class="value">${city.population.toLocaleString()}</div></div>
            <div class="row"><div class="label">Main specialty</div><div class="value">${city.specialty}</div></div>
            <div class="row"><div class="label">Government type</div><div class="value">${city.government}</div></div>
            <div class="row"><div class="label">Major problem</div><div class="value">${city.problem}</div></div>
            <div class="row"><div class="label">Notable features</div><div class="value">${city.feature1}, ${city.feature2}</div></div>
        `;

        cityLore.style.display = "block";
        cityLore.textContent = generateCityLore(city);
    }

    const GALAXY_STORAGE_KEY = "arc_galaxy_worlds_v1";

    function loadGalaxyFromStorage() {
        try {
            const raw = localStorage.getItem(GALAXY_STORAGE_KEY);
            if (!raw) return [];
            const parsed = JSON.parse(raw);
            if (Array.isArray(parsed)) {
                return parsed;
            }
            return [];
        } catch (e) {
            console.warn("Failed to load galaxy from storage", e);
            return [];
        }
    }

    function saveGalaxyToStorage() {
        try {
            localStorage.setItem(GALAXY_STORAGE_KEY, JSON.stringify(galaxy));
        } catch (e) {
            console.warn("Failed to save galaxy to storage", e);
        }
    }

    function updateGalaxyCount() {
        const label = document.getElementById("galaxyCountLabel");
        const count = galaxy.length;
        label.textContent = count === 1 ? "1 saved world" : `${count} saved worlds`;
    }

    function renderGalaxyList() {
        const container = document.getElementById("galaxyList");
        container.innerHTML = "";
        container.classList.remove("empty");

        if (galaxy.length === 0) {
            container.classList.add("empty");
            container.innerHTML = `No worlds saved yet. Generate a planet you like and click <strong>Save planet to galaxy</strong>.`;
            updateGalaxyCount();
            return;
        }

        galaxy.forEach((planet, index) => {
            const card = document.createElement("div");
            card.className = "galaxy-card";

            const rarityClass =
                planet.rarityLabel === "Legendary" ? "rarity-legendary" :
                    planet.rarityLabel === "Rare" ? "rarity-rare" : "rarity-common";

            const header = document.createElement("div");
            header.className = "galaxy-card-header";
            header.innerHTML = `
                <div class="galaxy-name">${planet.name}</div>
                <div class="${rarityClass}">${planet.rarityLabel}</div>
            `;

            const sub = document.createElement("div");
            sub.style.marginBottom = "4px";
            sub.style.opacity = "0.86";
            sub.textContent = `${planet.type} ¬∑ ${planet.mainBiome} ¬∑ ${planet.climate}`;

            const tags = document.createElement("div");
            tags.className = "galaxy-tags";
            tags.innerHTML = `
                <div class="galaxy-tag">Moons: ${planet.moons}</div>
                <div class="galaxy-tag">Gravity: ${planet.gravityG} g</div>
                <div class="galaxy-tag">Score: ${planet.rarityScore}</div>
                <div class="galaxy-tag">Civ: ${planet.civilizationLevel}</div>
            `;

            const small = document.createElement("div");
            small.style.marginTop = "4px";
            small.style.opacity = "0.7";
            small.style.fontSize = "0.75rem";
            small.textContent = `Saved slot #${index + 1}`;

            card.appendChild(header);
            card.appendChild(sub);
            card.appendChild(tags);
            card.appendChild(small);

            container.appendChild(card);
        });

        updateGalaxyCount();
    }

    function saveCurrentPlanet() {
        if (!currentPlanet) {
            alert("Generate a planet first.");
            return;
        }

        galaxy.push(currentPlanet);
        saveGalaxyToStorage();
        renderGalaxyList();
    }

    function clearGalaxy() {
        if (!confirm("Clear all saved worlds from your galaxy? This only affects local storage in this browser.")) {
            return;
        }
        galaxy = [];
        saveGalaxyToStorage();
        renderGalaxyList();
    }

    function mintComingSoon() {
        if (!currentPlanet) {
            alert("Generate and save a planet first. In a future version, this button will mint your selected world as an NFT on Arc testnet.");
            return;
        }

        alert(
            "NFT minting is not implemented yet.\n\n" +
            "Planned flow:\n" +
            "‚Ä¢ use the current planet's data as NFT metadata\n" +
            "‚Ä¢ call an Arc smart contract on testnet\n" +
            "‚Ä¢ return the transaction hash and token ID.\n\n" +
            "For now this is a placeholder button to show the intended on-chain integration."
        );
    }

    function init() {
        galaxy = loadGalaxyFromStorage();
        renderGalaxyList();
    }

    init();
</script>
</body>
</html>
